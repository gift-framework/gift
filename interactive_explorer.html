<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GIFT Framework - Interactive Observable Explorer</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #ffffff;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            text-align: center;
            font-size: 1.2em;
            margin-bottom: 30px;
            opacity: 0.8;
        }
        
        .controls {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }
        
        .control-group {
            margin-bottom: 25px;
        }
        
        .control-label {
            display: block;
            margin-bottom: 10px;
            font-size: 1.1em;
            font-weight: 600;
        }
        
        .control-value {
            color: #4facfe;
            font-weight: bold;
            font-size: 1.2em;
        }
        
        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
            -webkit-appearance: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4facfe;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(79, 172, 254, 0.5);
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4facfe;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(79, 172, 254, 0.5);
        }
        
        .stats-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .stat-box {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.7;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #4facfe;
        }
        
        .observables-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .observable-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 15px;
            min-height: 300px;
        }
        
        .gauge-container {
            height: 250px;
        }
        
        .info-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-top: 30px;
            font-size: 0.9em;
            line-height: 1.6;
        }
        
        .info-panel h3 {
            margin-bottom: 10px;
            color: #4facfe;
        }
        
        .button {
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            margin: 10px 5px;
            transition: transform 0.2s;
        }
        
        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
        }
        
        .reset-default {
            text-align: center;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåå GIFT Framework Explorer</h1>
        <div class="subtitle">Interactive Observable Calculator from Topological Parameters</div>
        
        <!-- Controls Section -->
        <div class="controls">
            <h2 style="margin-bottom: 20px; text-align: center;">Topological Parameters</h2>
            
            <div class="control-group">
                <label class="control-label">
                    p‚ÇÇ (Duality Parameter): <span class="control-value" id="p2-value">2.000</span>
                </label>
                <input type="range" id="p2-slider" min="1.8" max="2.2" step="0.001" value="2.0">
                <div style="font-size: 0.85em; opacity: 0.7; margin-top: 5px;">
                    G‚ÇÇ/K‚Çá = 14/7 and E‚Çà√óE‚Çà/E‚Çà = 496/248 (exact = 2.0)
                </div>
            </div>
            
            <div class="control-group">
                <label class="control-label">
                    rank(E‚Çà) (Cartan Dimension): <span class="control-value" id="rank-value">8</span>
                </label>
                <input type="range" id="rank-slider" min="7" max="9" step="1" value="8">
                <div style="font-size: 0.85em; opacity: 0.7; margin-top: 5px;">
                    Number of Cartan generators (exact = 8)
                </div>
            </div>
            
            <div class="control-group">
                <label class="control-label">
                    Weyl_factor (Pentagonal Symmetry): <span class="control-value" id="weyl-value">5</span>
                </label>
                <input type="range" id="weyl-slider" min="4" max="6" step="1" value="5">
                <div style="font-size: 0.85em; opacity: 0.7; margin-top: 5px;">
                    From |W(E‚Çà)| = 2¬π‚Å¥ √ó 3‚Åµ √ó 5¬≤ √ó 7 (exact = 5)
                </div>
            </div>
            
            <div class="reset-default">
                <button class="button" onclick="resetToDefault()">Reset to Default Values</button>
                <button class="button" onclick="exportResults()">Export Current Results</button>
            </div>
        </div>
        
        <!-- Statistics Panel -->
        <div class="stats-panel">
            <div class="stat-box">
                <div class="stat-label">Mean Deviation</div>
                <div class="stat-value" id="mean-dev">0.208%</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Median Deviation</div>
                <div class="stat-value" id="median-dev">0.115%</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Within 1%</div>
                <div class="stat-value" id="within-one">18/18</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Parameter Reduction</div>
                <div class="stat-value">19‚Üí3</div>
            </div>
        </div>
        
        <!-- Observables Grid -->
        <div class="observables-grid" id="observables-grid"></div>
        
        <!-- Info Panel -->
        <div class="info-panel">
            <h3>About GIFT Framework v2</h3>
            <p>
                The Geometric Information Field Theory (GIFT) proposes that observable physics encodes 
                topological information through dimensional reduction from E‚Çà√óE‚Çà via G‚ÇÇ holonomy manifolds.
            </p>
            <p style="margin-top: 10px;">
                <strong>Key Achievement:</strong> Predicts 18 observables from only 3 topological parameters 
                with mean precision 0.208% (compared to Standard Model's 19 free parameters).
            </p>
            <p style="margin-top: 10px;">
                <strong>Publication:</strong> <a href="https://doi.org/10.5281/zenodo.17360782" 
                style="color: #4facfe;">DOI: 10.5281/zenodo.17360782</a>
            </p>
        </div>
    </div>
    
    <script>
        // Mathematical constants (high precision)
        const MATH = {
            PI: Math.PI,
            E: Math.E,
            PHI: (1 + Math.sqrt(5)) / 2,
            GAMMA: 0.5772156649015328606065120900824024310421593359399235988057672348849,
            ZETA2: Math.PI**2 / 6,
            ZETA3: 1.2020569031595942853997381615114499907649862923404988817922715553418382,
            LN2: Math.log(2),
            SQRT2: Math.sqrt(2),
            SQRT5: Math.sqrt(5),
            SQRT17: Math.sqrt(17)
        };
        
        // Experimental data
        const EXPERIMENTAL = {
            'theta_12': {exp: 33.44, err: 0.77, unit: '¬∞', name: 'Œ∏‚ÇÅ‚ÇÇ (Solar)', sector: 'Neutrino'},
            'theta_13': {exp: 8.61, err: 0.12, unit: '¬∞', name: 'Œ∏‚ÇÅ‚ÇÉ (Reactor)', sector: 'Neutrino'},
            'theta_23': {exp: 49.2, err: 1.1, unit: '¬∞', name: 'Œ∏‚ÇÇ‚ÇÉ (Atmospheric)', sector: 'Neutrino'},
            'delta_CP': {exp: 197.0, err: 24.0, unit: '¬∞', name: 'Œ¥_CP (CP Phase)', sector: 'Neutrino'},
            'alpha_inv_0': {exp: 137.036, err: 0.000011, unit: '', name: 'Œ±‚Åª¬π(0)', sector: 'Gauge'},
            'alpha_inv_MZ': {exp: 127.955, err: 0.005, unit: '', name: 'Œ±‚Åª¬π(Mz)', sector: 'Gauge'},
            'sin2theta_W': {exp: 0.23122, err: 0.00003, unit: '', name: 'sin¬≤Œ∏w', sector: 'Gauge'},
            'alpha_s_MZ': {exp: 0.1179, err: 0.0010, unit: '', name: 'Œ±s(Mz)', sector: 'Gauge'},
            'MW_MZ': {exp: 0.88155, err: 0.00014, unit: '', name: 'Mw/Mz', sector: 'Gauge'},
            'lambda_H': {exp: 0.129, err: 0.001, unit: '', name: 'ŒªH (Higgs)', sector: 'Higgs'},
            'm_H': {exp: 125.25, err: 0.17, unit: ' GeV', name: 'mH (Mass)', sector: 'Higgs'},
            'Q_Koide': {exp: 0.6667, err: 0.0001, unit: '', name: 'Q (Koide)', sector: 'Lepton'},
            'm_mu_m_e': {exp: 206.768, err: 0.001, unit: '', name: 'mŒº/me', sector: 'Lepton'},
            'm_tau_m_mu': {exp: 16.817, err: 0.001, unit: '', name: 'mœÑ/mŒº', sector: 'Lepton'},
            'Omega_DE': {exp: 0.689, err: 0.020, unit: '', name: 'Œ©DE (Dark Energy)', sector: 'Cosmology'},
            'n_s': {exp: 0.9649, err: 0.0042, unit: '', name: 'ns (Spectral Index)', sector: 'Cosmology'},
            'H_0': {exp: 73.04, err: 1.04, unit: ' km/s/Mpc', name: 'H‚ÇÄ (Hubble)', sector: 'Cosmology'},
            'N_generations': {exp: 3, err: 0, unit: '', name: 'Ngen (Generations)', sector: 'Structure'}
        };
        
        // Current parameters
        let params = {
            p2: 2.0,
            rank_E8: 8,
            Weyl_factor: 5
        };
        
        // Derived parameters calculation
        function calculateDerivedParams(p) {
            const beta0 = MATH.PI / p.rank_E8;
            const xi = (p.Weyl_factor / p.p2) * beta0;
            const delta = 2 * MATH.PI / (p.Weyl_factor ** 2);
            
            const dim_E8 = 248;
            const dim_E8xE8 = 2 * dim_E8;
            const dim_K7 = 7;
            const dim_G2 = 14;
            const dim_J3 = 27;
            const b2 = 21;
            const b3 = 77;
            const H_star = 1 + b2 + b3;
            
            const tau = (dim_E8xE8 * b2) / (dim_J3 * H_star);
            
            return {
                beta0, xi, delta, tau,
                dim_E8, dim_E8xE8, dim_K7, dim_G2, dim_J3,
                b0: 1, b2, b3, H_star
            };
        }
        
        // Calculate all observables
        function calculateObservables(p) {
            const d = calculateDerivedParams(p);
            const obs = {};
            
            // Neutrino sector
            const ratio_12 = d.delta / MATH.GAMMA;
            obs.theta_12 = Math.atan(Math.sqrt(ratio_12)) * 180 / MATH.PI;
            obs.theta_13 = (MATH.PI / d.b2) * 180 / MATH.PI;
            obs.theta_23 = ((p.rank_E8 + d.b3) / d.H_star) * 180 / MATH.PI;
            obs.delta_CP = (MATH.ZETA3 + MATH.SQRT5) * 180 / MATH.PI;
            
            // Gauge sector
            obs.alpha_inv_0 = d.tau * d.dim_K7 * p.Weyl_factor;
            obs.alpha_inv_MZ = Math.pow(2, p.rank_E8 - 1) - 1/24;
            obs.sin2theta_W = MATH.ZETA2 - MATH.SQRT2;
            obs.alpha_s_MZ = MATH.SQRT2 / 12;
            obs.MW_MZ = Math.sqrt(1 - obs.sin2theta_W);
            
            // Higgs sector
            obs.lambda_H = MATH.SQRT17 / Math.pow(2, p.Weyl_factor);
            obs.m_H = 246.0 * Math.sqrt(2 * obs.lambda_H);
            
            // Lepton sector
            obs.Q_Koide = d.dim_G2 / d.b2;
            obs.m_mu_m_e = Math.pow(d.dim_J3, MATH.PHI);
            obs.m_tau_m_mu = (d.dim_K7 + d.b3) / p.Weyl_factor;
            
            // Cosmology
            obs.Omega_DE = MATH.ZETA3 * MATH.GAMMA;
            obs.n_s = d.xi ** 2;
            const H0_Planck = 67.36;
            obs.H_0 = H0_Planck * Math.pow(MATH.ZETA3 / d.xi, d.beta0);
            
            // Structure
            obs.N_generations = p.rank_E8 - p.Weyl_factor;
            
            return obs;
        }
        
        // Calculate deviation and color
        function getDeviationColor(deviation) {
            if (deviation < 0.2) return '#00ff41';  // Green - Exceptional
            if (deviation < 0.5) return '#ffd700';  // Yellow - Excellent
            if (deviation < 1.0) return '#ff8c00';  // Orange - Good
            return '#ff4444';  // Red - Needs work
        }
        
        // Create gauge chart
        function createGauge(observable, predicted, experimental, container) {
            const deviation = Math.abs((predicted - experimental.exp) / experimental.exp) * 100;
            const color = getDeviationColor(deviation);
            
            const data = [{
                type: "indicator",
                mode: "gauge+number+delta",
                value: predicted,
                title: {
                    text: `<b>${experimental.name}</b><br><span style="font-size:0.8em">${experimental.sector} Sector</span>`,
                    font: {color: "white", size: 16}
                },
                delta: {
                    reference: experimental.exp,
                    increasing: {color: color},
                    decreasing: {color: color},
                    suffix: experimental.unit
                },
                number: {
                    suffix: experimental.unit,
                    font: {size: 24, color: "white"}
                },
                gauge: {
                    axis: {
                        range: [null, experimental.exp * 1.5],
                        tickwidth: 1,
                        tickcolor: "white"
                    },
                    bar: {color: color, thickness: 0.7},
                    bgcolor: "rgba(255,255,255,0.1)",
                    borderwidth: 2,
                    bordercolor: "white",
                    steps: [
                        {range: [0, experimental.exp - experimental.err], color: "rgba(255,255,255,0.05)"},
                        {range: [experimental.exp - experimental.err, experimental.exp + experimental.err], 
                         color: "rgba(79, 172, 254, 0.2)"},
                        {range: [experimental.exp + experimental.err, experimental.exp * 1.5], 
                         color: "rgba(255,255,255,0.05)"}
                    ],
                    threshold: {
                        line: {color: "#4facfe", width: 4},
                        thickness: 0.75,
                        value: experimental.exp
                    }
                }
            }];
            
            const layout = {
                paper_bgcolor: "rgba(0,0,0,0)",
                plot_bgcolor: "rgba(0,0,0,0)",
                font: {color: "white", family: "Segoe UI"},
                margin: {t: 80, r: 25, l: 25, b: 40},
                annotations: [{
                    text: `Exp: ${experimental.exp.toFixed(4)}¬±${experimental.err}<br>Dev: ${deviation.toFixed(3)}%`,
                    x: 0.5,
                    y: 0.1,
                    xref: 'paper',
                    yref: 'paper',
                    showarrow: false,
                    font: {size: 11, color: color}
                }]
            };
            
            const config = {displayModeBar: false, responsive: true};
            
            Plotly.newPlot(container, data, layout, config);
        }
        
        // Update all observables
        function updateObservables() {
            const observables = calculateObservables(params);
            const grid = document.getElementById('observables-grid');
            grid.innerHTML = '';
            
            let deviations = [];
            
            for (const [key, value] of Object.entries(observables)) {
                if (EXPERIMENTAL[key]) {
                    const card = document.createElement('div');
                    card.className = 'observable-card';
                    card.id = `card-${key}`;
                    
                    const gaugeDiv = document.createElement('div');
                    gaugeDiv.className = 'gauge-container';
                    gaugeDiv.id = `gauge-${key}`;
                    
                    card.appendChild(gaugeDiv);
                    grid.appendChild(card);
                    
                    createGauge(key, value, EXPERIMENTAL[key], gaugeDiv.id);
                    
                    // Calculate deviation for stats
                    const dev = Math.abs((value - EXPERIMENTAL[key].exp) / EXPERIMENTAL[key].exp) * 100;
                    deviations.push(dev);
                }
            }
            
            // Update statistics
            deviations.sort((a, b) => a - b);
            const mean = deviations.reduce((a, b) => a + b, 0) / deviations.length;
            const median = deviations[Math.floor(deviations.length / 2)];
            const within_one = deviations.filter(d => d < 1.0).length;
            
            document.getElementById('mean-dev').textContent = mean.toFixed(3) + '%';
            document.getElementById('median-dev').textContent = median.toFixed(3) + '%';
            document.getElementById('within-one').textContent = `${within_one}/${deviations.length}`;
        }
        
        // Event listeners for sliders
        document.getElementById('p2-slider').addEventListener('input', function(e) {
            params.p2 = parseFloat(e.target.value);
            document.getElementById('p2-value').textContent = params.p2.toFixed(3);
            updateObservables();
        });
        
        document.getElementById('rank-slider').addEventListener('input', function(e) {
            params.rank_E8 = parseInt(e.target.value);
            document.getElementById('rank-value').textContent = params.rank_E8;
            updateObservables();
        });
        
        document.getElementById('weyl-slider').addEventListener('input', function(e) {
            params.Weyl_factor = parseInt(e.target.value);
            document.getElementById('weyl-value').textContent = params.Weyl_factor;
            updateObservables();
        });
        
        // Reset to default
        function resetToDefault() {
            params = {p2: 2.0, rank_E8: 8, Weyl_factor: 5};
            document.getElementById('p2-slider').value = 2.0;
            document.getElementById('rank-slider').value = 8;
            document.getElementById('weyl-slider').value = 5;
            document.getElementById('p2-value').textContent = '2.000';
            document.getElementById('rank-value').textContent = '8';
            document.getElementById('weyl-value').textContent = '5';
            updateObservables();
        }
        
        // Export results
        function exportResults() {
            const observables = calculateObservables(params);
            const d = calculateDerivedParams(params);
            
            const exportData = {
                parameters: params,
                derived: {
                    beta0: d.beta0,
                    xi: d.xi,
                    delta: d.delta,
                    tau: d.tau
                },
                observables: observables,
                timestamp: new Date().toISOString()
            };
            
            const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(exportData, null, 2));
            const downloadAnchor = document.createElement('a');
            downloadAnchor.setAttribute("href", dataStr);
            downloadAnchor.setAttribute("download", "gift_explorer_results.json");
            document.body.appendChild(downloadAnchor);
            downloadAnchor.click();
            downloadAnchor.remove();
        }
        
        // Initialize on page load
        window.addEventListener('load', function() {
            updateObservables();
        });
    </script>
</body>
</html>

